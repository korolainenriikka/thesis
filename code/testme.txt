Things to test

- data augmentation
- convert images to black and white (rgb values dont mean anything)
    - current: catalogues are converted to rgd before saving
- make area either fully white (background) or fully black (foreground)? (szeliski book)
    - but: smudged L / R maybe will not show
    - after making binary, morphology can be used (szeliski 3.3.3)
- evaluation: check for systematic error -> concept drift because of notation style changing over time?
- use words instead of whole element text as text to detect (word bounding box instead of line)

next: baseline: trocr outputs using an annotated tooth record test set

Ways to improve
- also use data from other types of specimen cards
- different loss functions (possibly CTC loss?)
	https://medium.com/@natsunoyuki/ocr-with-the-ctc-loss-efa62ebd8625
	- width axis needs to be first in tensor (ctc loss assumes time-evolving axis to be first)
    - would allow having variable length labels
- pad image to be of equal sizes instead of interpolating
- f1 somehow more robust toward word spacings being wrong, currently penalizes too much
- word wise or character wise?
- try not fine tuning all parameters (medium notes #2)

Setup decisions (hyperparameters to test)
- pytorch resize interpolation strategy (https://pytorch.org/vision/stable/generated/torchvision.transforms.Resize.html#resize). current: default
- annotating: use modifiers not special unicode characters (3+lowerscript modifier instead of lowerscript 3)
- batch size
- uniformizing image sizes chosen size: 3000*200, because these were definitely larger than original. to not lose any information
- loss function: cross entropy (chose the same as trocr paper)

Evaluation metrics
- trocr paper: correct matches / words. But: words in teeth are a bit ambiguous
eg M3, m2, p3. whether spaces are detected does not really matter for accuracy
--> remove spaces from output and label. count correct words
    but: if one word is missing, all are wrong because of a drift eg generated: A- Proximal # distal end right femur, correct Proximal & distal end right femur
    is entirely false. spaces here are very varying, so word correctness like this does not work well
    also word completely off is worse than a one-character off word, should be captured
so: would like to have words with conventional word correctness.
but dental characters with char by char correctness 
problem: no way to delineate
evaluation: reward for all correct code points?

